<div class="container py-4">
  <div class="row">
    <div class="col-md-6">
      <button class="btn btn-primary mb-3" (click)="toggleCreateForm()">
        {{ showCreateForm ? 'Hide' : 'Show' }} Create Staff Form
      </button>

      <div *ngIf="showCreateForm">
        <h3>Create Staff</h3>
        <form [formGroup]="staffForm" (ngSubmit)="submitCreate()">
          <div class="mb-3">
            <label>Name</label>
            <input formControlName="name" class="form-control" />
          </div>
          <div class="mb-3">
            <label>Username</label>
            <input formControlName="userName" class="form-control" />
          </div>
          <div class="mb-3">
            <label>Email</label>
            <input type="email" formControlName="email" class="form-control" />
          </div>
          <div class="mb-3">
            <label>Password</label>
            <input type="password" formControlName="password" class="form-control" />
          </div>
          <div class="mb-3">
            <label>Age</label>
            <input type="number" formControlName="age" class="form-control" />
          </div>
          <div class="mb-3">
            <label>Date of Birth</label>
            <input type="date" formControlName="dob" class="form-control" /> 
          </div>
          <div class="mb-3">
            <label>Address</label>
            <textarea formControlName="address" class="form-control"></textarea>
          </div>
          <div class="mb-3">
            <label>Phone Number</label>
            <input formControlName="phoneNumber" class="form-control" />
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="creating || staffForm.invalid">
            <span *ngIf="creating" class="spinner-border spinner-border-sm me-2"></span>
            Create Staff
          </button>
        </form>
      </div>
    </div>

    <div class="col-md-6">
      <h3>Staff List</h3>
      <div *ngIf="loadingStaffs" class="spinner-border text-primary"></div>
      <ul class="list-group mt-3" *ngIf="!loadingStaffs && staffs.length">
        <li class="list-group-item" *ngFor="let staff of staffs">
          <strong>{{ staff.name }}</strong> ({{ staff.userName }})
          <br />
          Email: {{ staff.email }} <br />
          Role: {{ staff.roleName || 'N/A' }}
        </li>
      </ul>
      <div *ngIf="!loadingStaffs && !staffs.length" class="alert alert-secondary mt-3">No staff found.</div>
    </div>
  </div>
</div>
